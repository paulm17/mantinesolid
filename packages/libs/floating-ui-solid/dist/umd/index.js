!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@floating-ui/dom"),require("solid-js")):"function"==typeof define&&define.amd?define(["exports","@floating-ui/dom","solid-js"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).index={},e.dom,e.solidJs)}(this,(function(e,t,n){"use strict";function r(e,t){const n=i(e);return Math.round(t*n)/n}function i(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}Object.defineProperty(e,"autoPlacement",{enumerable:!0,get:function(){return t.autoPlacement}}),Object.defineProperty(e,"autoUpdate",{enumerable:!0,get:function(){return t.autoUpdate}}),Object.defineProperty(e,"detectOverflow",{enumerable:!0,get:function(){return t.detectOverflow}}),Object.defineProperty(e,"flip",{enumerable:!0,get:function(){return t.flip}}),Object.defineProperty(e,"hide",{enumerable:!0,get:function(){return t.hide}}),Object.defineProperty(e,"inline",{enumerable:!0,get:function(){return t.inline}}),Object.defineProperty(e,"limitShift",{enumerable:!0,get:function(){return t.limitShift}}),Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return t.offset}}),Object.defineProperty(e,"platform",{enumerable:!0,get:function(){return t.platform}}),Object.defineProperty(e,"shift",{enumerable:!0,get:function(){return t.shift}}),Object.defineProperty(e,"size",{enumerable:!0,get:function(){return t.size}}),e.arrow=function({element:e,padding:n}){return t.arrow({element:e,padding:n??0})},e.createFloating=e=>{const[o,a]=n.createSignal(null),[f,l]=n.createSignal(null),u=()=>"function"==typeof e.strategy?e.strategy():e.strategy??"absolute",c=()=>"function"==typeof e.placement?e.placement():e.placement??"bottom",d=()=>"function"==typeof e.transform?e.transform():void 0===e.transform||e.transform,s=()=>"function"==typeof e.middleware?e.middleware():e.middleware,m=()=>e.elements?.reference()||o(),p=()=>e.elements?.floating()||f(),[y,g]=n.createSignal({top:"0px",left:"0px",position:u(),transform:d()?"translate(0px, 0px)":"none"}),[b,w]=n.createSignal({x:0,y:0,strategy:u(),middlewareData:{},placement:c(),isPositioned:!1});let P={current:void 0};function x(){const e=m(),o=p();e&&o&&t.computePosition(e,o,{middleware:s(),placement:c(),strategy:u()}).then((e=>{const t={...e,isPositioned:!0},a=d()?{transform:`translate(${r(o,t.x)}px, ${r(o,t.y)}px)`,...i(o)>=1.5&&{willChange:"transform"}}:{top:`${t.y}px`,left:`${t.x}px`};n.batch((()=>{w({...t,middlewareData:t.middlewareData,isPositioned:!0}),g((e=>({...e,...a})))}))}),(e=>{console.error(e)}))}return n.createEffect((()=>{const t=m(),n=p();if(u(),c(),d(),s(),t&&n){if("function"==typeof e.whileElementsMounted)return P.current?.(),void(P={current:e.whileElementsMounted(t,n,x)});x()}})),n.createEffect((()=>{const t=e?.isOpen();!1===t&&b().isPositioned&&w({...b(),isPositioned:!1}),n.onCleanup((()=>{"function"==typeof P.current&&(P.current?.(),P={current:void 0})}))})),{x:()=>b().x,y:()=>b().y,placement:()=>b().placement,strategy:()=>b().strategy,isPositioned:()=>b().isPositioned,floatingStyles:y,setFloatingStyles:e=>g(e),middleware:()=>b().middlewareData,elements:{reference:()=>o(),floating:()=>f()},refs:{setReference:a,setFloating:l},update:x}}}));
